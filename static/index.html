<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>	
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type="text/javascript" src="jqplot/jquery.jqplot.js"></script>
	<script type="text/javascript" src="jqplot/plugins/jqplot.dateAxisRenderer.js"></script>
	<script type="text/javascript" src="jqplot/plugins/jqplot.barRenderer.js"></script>
	<script type="text/javascript" src="jqplot/plugins/jqplot.categoryAxisRenderer.js"></script>
	<script type="text/javascript" src="jqplot/plugins/jqplot.cursor.js"></script>
	<script type="text/javascript" src="jqplot/plugins/jqplot.highlighter.js"></script>
	<script type="text/javascript" src="jqplot/plugins/jqplot.dragable.js"></script>	
	<script type="text/javascript" src="jqplot/plugins/jqplot.logAxisRenderer.js"></script>
	<script type="text/javascript" src="jqplot/plugins/jqplot.canvasTextRenderer.js"></script>
	<script type="text/javascript" src="jqplot/plugins/jqplot.canvasAxisLabelRenderer.js"></script>
	<script type="text/javascript" src="jqplot/plugins/jqplot.canvasAxisTickRenderer.js"></script>

	<link rel="stylesheet" type="text/css" href="main.css" />
	<link rel="stylesheet" type="text/css" href="jqplot/jquery.jqplot.css" />	
</head>
<body>
		<div class="container">
			<div class="main clearfix">
				<!-- Левый блок -->
				<div class="column">
					<p>
						По оси абсцисс (X) указано время в формате "Часы:Минуты" и 
						установлены 24 точки которые соответствуют каждому часу в сутках. Каждую точку можно двигать по оси ординат (Y), во всплывающей подсказке будет 
						указано какому количеству баллов равняется выбранная позиция точки. 
						<br>
						Пожалуйста, оцените свою продуктивность во время программирования от 0 до 5 баллов*. 
						Где за 0 баллов принято ощущение полной неработоспособности, а за 5 баллов принято ощущние максимальной продуктивности.

					</p>
						

					<p style="font-size: 0.8em; text-align: left">
						* Все собранные данные будут использованы как обезличенные и только для публикации в журнале входящем в список научных журналов ВАК.
					</p>
					<p style="font-size: 0.8em; text-align: left">
						** Исходный код данного сайта расположен на: <a href="https://github.com/sinitcin/sci_questionnaire">github</a><br>
					</p>
					<p style="font-size: 0.8em; text-align: left">
						*** В опросе уже приняли участие: {{}} человек. 
					</p>
				</div>
				<!-- Конец левого блока -->
				<!-- Правый блок -->
				<div class="column">
					<form action="/processing" id="main_form" method="post">
						<input type="number" class="textbox" name="age" value="" min="0" max="120" placeholder="Ваш Возраст:" required/>
						<input type="text" class="textbox" name="specialization" placeholder="Ваша должность:" required/>						
						<select name="work_type" class="textbox" style="color:gray" onchange="this.style.color='black'" required/>
							<option value="" style="display:none" selected="selected">Выберите тип занятости:</option>
							<option value="full_day">Полный день</option>
							<option value="free_day">Свободный график</option>
						</select>
						<input type="number" class="textbox" name="active_work_hours" min="0" max="24" placeholder="Суммарно, какое количество часов в день Вы считаете себя наиболее продуктивным:" required/>				
						<input type="email" class="textbox" name="email" placeholder="Если Вы хотите получить копию статьи, то укажите Вашу почту:"/>
						<input type="hidden" name="points" id="points"/>
						<div id="chart1" style="height: 200px; width: 100%; margin-left: 5px; margin-bottom: 5px"></div>
						<input type="submit" name="submit" class="button" value="Отправить"/>
					</form>
				</div>
				<!-- Конец правого блока -->
			</div>
		</div>

		<script language="javascript" type="text/javascript">

		    $(document).ready(function () {  
				debugger
				$.jqplot.config.enablePlugins = true;
			
				window.s1 = [	
							['00:00',0],['01:00',0],['02:00',0],['03:00',0],['04:00',0],['05:00',0],['06:00',0],
							['07:00',1],['08:00',2],['09:00',3],['10:00',4],['11:00',5],['12:00',5],['13:00',5],
							['14:00',5],['15:00',5],['16:00',5],['17:00',4],['18:00',3],['19:00',2],['20:00',1],
							['21:00',0],['22:00',0],['23:00',0]
							];
			
				window.plot1 = $.jqplot('chart1',[s1],{
				axes: {
					xaxis: {
						tickOptions: {
							formatString: '%H:%M',
							angle: -30
						},
						tickRenderer:$.jqplot.CanvasAxisTickRenderer,
						labelOptions: {
							fontFamily:'Helvetica',
							fontSize: '14pt'
						},
						labelRenderer: $.jqplot.CanvasAxisLabelRenderer,
						renderer: $.jqplot.DateAxisRenderer,
						numberTicks: 12
					},
					yaxis: {
						tickOptions: {
							formatString: '%d',
							angle: 30
						},
						labelRenderer: $.jqplot.CanvasAxisLabelRenderer,
						tickRenderer: $.jqplot.CanvasAxisTickRenderer,
						numberTicks: 5,
						min:-0.2,
						max:5.2
					}, 
					seriesDefaults: { 
						showMarker: false,
						pointLabels: { show: true } 
					}
				},
				series: [{
					dragable: {
						constrainTo: 'y'
					},
					isDragable: true
					}],
				highlighter: {
					sizeAdjust: 10,
					tooltipLocation: 'n',
					tooltipAxes: 'y',
					tooltipFormatString: '<b><i><span style="color:red;">Значение: </span></i></b> %d',
					useAxesFormatters: false
				},
				cursor: {
					show: true
				}
				});
			});

			$('#main_form').submit(function () {
				$("#points").val(JSON.stringify(window.s1));
			});
		</script>

</body>
</html>